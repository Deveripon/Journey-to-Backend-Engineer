# ЁЯз╡ Web Worker: Multi-Threading in Web

## ЁЯзР Web Worker ржХрж┐? ржПржЯрж┐ ржХрзЗржи ржкрзНрж░рзЯрзЛржЬржи?

ржЖржорж░рж╛ ржЬрж╛ржирж┐ ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржПржХржЯрж╛ рж╕рж┐ржЩрзНржЧрзЗрж▓ ржерзНрж░рзЗржбрзЗржб рж▓рзНржпрж╛ржЩрзНржЧрзБрзЯрзЗржЬред рждрж╛ржЗ ржпрзЗрж╕ржм CPU intensive ржХрж╛ржЬ ржХрж░рждрзЗ ржЧрж┐рзЯрзЗ ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржПрж░ ржорзЗржЗржи ржерзНрж░рзЗржб ржмрзНрж▓ржХ рж╣рзЯрзЗ ржпрзЗрждрзЗ ржкрж╛рж░рзЗ рж╕рзЗрж╕ржм ржпрж╛рзЯржЧрж╛рзЯ ржЖржорж░рж╛ ржорж╛рж▓рзНржЯрж┐ ржерзНрж░рзЗржбрж┐ржВ ржХрж░рждрзЗ ржкрж╛рж░рж┐ред

ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржП рж╕рж╛рж░рзНржнрж╛рж░ ржП ржПржмржВ ржмрзНрж░рж╛ржЙржЬрж╛рж░ ржП ржжрзБржЗржЬрж╛рзЯржЧрж╛рзЯ ржорж╛рж▓рзНржЯрж┐ ржерзНрж░рзЗржбрж┐ржВ ржХрж░рждрзЗ ржкрж╛рж░рж┐ред

ржПржЦрж╛ржирзЗ ржУрзЯрзЗржм ржПрж░ ржЬржирзНржп `Web Workers API` ржмрзНржпрж╛ржмрж╣рж╛рж░ ржХрж░рзЗ ржорж╛рж▓рзНржЯрж┐ ржерзНрж░рзЗржбрж┐ржВ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗред

---

## ЁЯЪА The Problem: Blocking the Main Thread
ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗ ржпржЦржи ржЖржорж░рж╛ ржХрзЛржирзЛ ржнрж╛рж░рзА ржЧрж╛ржгрж┐рждрж┐ржХ рж╣рж┐рж╕рж╛ржм ржмрж╛ рж▓рзБржк ржЪрж╛рж▓рж╛ржЗ, рждржЦржи ржЬрж╛ржнрж╛рж╕рзНржХрзНрж░рж┐ржкрзНржЯрзЗрж░ **Main Thread** ржмрзНрж▓ржХ рж╣рзЯрзЗ ржпрж╛рзЯред ржПрж░ ржлрж▓рзЗ:
- ржЗржЙржЬрж╛рж░ ржЗржирзНржЯрж╛рж░ржлрзЗрж╕ (UI) рж╣рзНржпрж╛ржВ рж╣рзЯрзЗ ржпрж╛рзЯред
- ржмрж╛ржЯржирзЗ ржХрзНрж▓рж┐ржХ ржХрж░рж╛ ржпрж╛рзЯ ржирж╛ред
- рж╕рзНржХрзНрж░рж▓ ржХрж░рж╛ ржмрж╛ ржЕрзНржпрж╛ржирж┐ржорзЗрж╢ржи ржжрзЗржЦрж╛ ржпрж╛рзЯ ржирж╛ред

**Web Worker** ржЖржорж╛ржжрзЗрж░ ржПржЗ рж╕ржорж╕рзНржпрж╛ ржерзЗржХрзЗ ржорзБржХрзНрждрж┐ ржжрзЗрзЯред ржПржЯрж┐ ржмрзНржпрж╛ржХржЧрзНрж░рж╛ржЙржирзНржбрзЗ ржЖрж▓рж╛ржжрж╛ ржПржХржЯрж┐ ржерзНрж░рзЗржбрзЗ ржХрж╛ржЬ ржХрж░рзЗ, ржлрж▓рзЗ ржорзЗржЗржи ржерзНрж░рзЗржб (UI) ржлрзНрж░рж┐ ржерж╛ржХрзЗред

---

## ЁЯЫая╕П How it Works?

Web Worker ржПрж░ рж╕рж╛ржерзЗ ржорзЗржЗржи ржерзНрж░рзЗржбрзЗрж░ ржпрзЛржЧрж╛ржпрзЛржЧ рж╣рзЯ **Message Passing** ржПрж░ ржорж╛ржзрзНржпржорзЗ:
1. `postMessage()`: ржбрж╛ржЯрж╛ ржПржХ ржерзНрж░рзЗржб ржерзЗржХрзЗ ржЕржирзНржп ржерзНрж░рзЗржбрзЗ ржкрж╛ржарж╛ржирзЛрж░ ржЬржирзНржпред
2. `onmessage`: ржЕржирзНржп ржерзНрж░рзЗржб ржерзЗржХрзЗ ржЖрж╕рж╛ ржбрж╛ржЯрж╛ рж░рж┐рж╕рж┐ржн ржХрж░рж╛рж░ ржЬржирзНржпред

---

## ЁЯТ╗ Implementation Example

### 1. Main Thread (`script.js`)
ржПржЦрж╛ржирзЗ ржЖржорж░рж╛ ржПржХржЯрж┐ ржирждрзБржи ржУрзЯрж╛рж░рзНржХрж╛рж░ рждрзИрж░рж┐ ржХрж░ржЫрж┐ ржПржмржВ рждрж╛ржХрзЗ ржХрж╛ржЬ рж╢рзБрж░рзБ ржХрж░рждрзЗ ржмрж▓ржЫрж┐ред

```javascript
const worker = new Worker('worker.js');

// ржмрж╛ржЯржи ржХрзНрж▓рж┐ржХ ржХрж░рж▓рзЗ ржУрзЯрж╛рж░рзНржХрж╛рж░ржХрзЗ ржорзЗрж╕рзЗржЬ ржкрж╛ржарж╛ржирзЛ
startWorkerButton.addEventListener("click", () => {
    worker.postMessage('start');
});

// ржУрзЯрж╛рж░рзНржХрж╛рж░ ржерзЗржХрзЗ рж░рзЗржЬрж╛рж▓рзНржЯ ржЖрж╕рж▓рзЗ рждрж╛ ржЧрзНрж░рж╣ржг ржХрж░рж╛
worker.onmessage = (message) => {
    console.log(`Total Result: ${message.data}`);
};
```

### 2. Worker Thread (`worker.js`)
ржПржЗ ржХрзЛржбржЯрж┐ ржорзЗржЗржи ржерзНрж░рзЗржб ржерзЗржХрзЗ ржЖрж▓рж╛ржжрж╛ ржПржХржЯрж┐ ржмрзНржпрж╛ржХржЧрзНрж░рж╛ржЙржирзНржб ржерзНрж░рзЗржбрзЗ ржЪрж▓ржмрзЗред

```javascript
onmessage = (message) => {
    console.log(`Separate worker thread is running`);

    let result = 0;
    // ржЕржирзЗржХ ржмрзЬ ржПржХржЯрж┐ рж▓рзБржк ржпрж╛ ржорзЗржЗржи ржерзНрж░рзЗржбрзЗ ржерж╛ржХрж▓рзЗ UI ржлрзНрж░рж┐ржЬ ржХрж░рзЗ ржжрж┐рждрзЛ
    for (let i = 0; i < 10000000000; i++) {
        result = i;
    }
    
    console.log(`Worker thread returning the result`);
    postMessage(result);
};
```

---

## ЁЯМЯ Benefits of Web Workers
- **Non-blocking UI:** ржнрж╛рж░рзА ржХрж╛ржЬрзЗрж░ рж╕ржорзЯржУ ржУрзЯрзЗржмрж╕рж╛ржЗржЯ рж╕рзНржорзБрже ржерж╛ржХрзЗред
- **Parallel Computing:** ржПржХрж╛ржзрж┐ржХ ржХрзЛрж░ ржкрзНрж░рж╕рзЗрж╕рж░рзЗрж░ рж╕рзБржмрж┐ржзрж╛ ржирзЗржУрзЯрж╛ ржпрж╛рзЯред
- **Better UX:** ржмрзНржпржмрж╣рж╛рж░ржХрж╛рж░рзА ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржиржЯрж┐ рж░рзЗрж╕ржкржирзНрж╕рж┐ржн ржкрж╛рзЯред

---

## тЪая╕П Limitations
- **No DOM Access:** ржУрзЯрж╛рж░рзНржХрж╛рж░ ржерзНрж░рзЗржб ржерзЗржХрзЗ рж╕рж░рж╛рж╕рж░рж┐ HTML ржПрж▓рж┐ржорзЗржирзНржЯ (DOM) ржПржХрзНрж╕рзЗрж╕ ржХрж░рж╛ ржпрж╛рзЯ ржирж╛ред
- **Same-origin Policy:** ржУрзЯрж╛рж░рзНржХрж╛рж░ рж╕рзНржХрзНрж░рж┐ржкрзНржЯ ржЕржмрж╢рзНржпржЗ ржПржХржЗ ржбрзЛржорзЗржЗржирзЗрж░ рж╣рждрзЗ рж╣ржмрзЗред
- **Window Object:** `window` ржмрж╛ `document` ржЕржмржЬрзЗржХрзНржЯ ржУрзЯрж╛рж░рзНржХрж╛рж░рзЗ ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯ ржирж╛ред

---

## ЁЯУК Conclusion
Web Worker ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржЖржорж░рж╛ ржмрзНрж░рж╛ржЙржЬрж╛рж░рзЗрж░ рж╕рж┐ржЩрзНржЧрзЗрж▓-ржерзНрж░рзЗржбрзЗржб рж╕рзАржорж╛ржмржжрзНржзрждрж╛ ржХрж╛ржЯрж┐рзЯрзЗ ржЕрзНржпрж╛ржкрзНрж▓рж┐ржХрзЗрж╢ржиржХрзЗ рж╣рж╛ржЗ-ржкрж╛рж░ржлрж░ржорзНржпрж╛ржирзНрж╕ ржжрж┐рждрзЗ ржкрж╛рж░рж┐ред ржПржЯрж┐ ржорзВрж▓ржд ржбрзЗржЯрж╛ ржкрзНрж░рж╕рзЗрж╕рж┐ржВ, ржЗржорзЗржЬ ржлрж┐рж▓рзНржЯрж╛рж░рж┐ржВ ржмрж╛ ржмрзЬ ржХрзНржпрж╛рж▓ржХрзБрж▓рзЗрж╢ржирзЗрж░ ржЬржирзНржп ржмрзНржпржмрж╣рзГржд рж╣рзЯред
